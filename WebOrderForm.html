<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MAYI æ»¿æº¢èŒ¶é£² - å…¬å¸åœ˜è³¼è¨‚è³¼ç³»çµ±</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(45deg, #ff6b6b, #feca57);
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .form-section {
            padding: 30px;
        }
        
        .customer-info {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
        }
        
        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .form-group {
            flex: 1;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: bold;
            color: #333;
        }
        
        .form-group input, .form-group select, .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }
        
        .form-group input:focus, .form-group select:focus, .form-group textarea:focus {
            border-color: #667eea;
            outline: none;
        }
        
        .menu-section {
            margin-bottom: 30px;
        }
        
        .menu-title {
            background: #667eea;
            color: white;
            padding: 15px 25px;
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 20px;
            border-radius: 8px;
        }
        
        .drink-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .drink-card {
            background: #fff;
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            padding: 20px;
            transition: all 0.3s;
        }
        
        .drink-card:hover {
            border-color: #667eea;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.1);
        }
        
        .drink-name {
            font-weight: bold;
            font-size: 1.1em;
            color: #333;
            margin-bottom: 10px;
        }
        
        .drink-price {
            color: #ff6b6b;
            font-weight: bold;
            font-size: 1.2em;
            margin-bottom: 15px;
        }
        
        .quantity-control {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .quantity-btn {
            background: #667eea;
            color: white;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s;
        }
        
        .quantity-btn:hover {
            background: #5a6fd8;
        }
        
        .quantity-input {
            width: 60px;
            text-align: center;
            font-size: 18px;
            font-weight: bold;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            padding: 8px;
        }
        
        .customization-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
        }
        
        .customization-title {
            font-size: 1.3em;
            font-weight: bold;
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .custom-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }
        
        .summary-section {
            background: linear-gradient(45deg, #48c9b0, #16a085);
            color: white;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 30px;
        }
        
        .summary-title {
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 15px;
        }
        
        .order-list {
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            max-height: 200px;
            overflow-y: auto;
        }
        
        .order-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid rgba(255,255,255,0.2);
        }
        
        .order-item:last-child {
            border-bottom: none;
        }
        
        .total-price {
            font-size: 1.8em;
            font-weight: bold;
            text-align: center;
            background: rgba(255,255,255,0.2);
            padding: 15px;
            border-radius: 8px;
        }
        
        .submit-btn {
            background: linear-gradient(45deg, #ff6b6b, #ee5a24);
            color: white;
            border: none;
            padding: 20px 40px;
            font-size: 1.3em;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            display: block;
            margin: 30px auto;
            transition: transform 0.3s;
            min-width: 250px;
        }
        
        .submit-btn:hover {
            transform: translateY(-2px);
        }
        
        .submit-btn:disabled {
            background: #ccc;
            cursor: not-allowed;
            transform: none;
        }
        
        @media (max-width: 768px) {
            .form-row {
                flex-direction: column;
            }
            
            .drink-grid {
                grid-template-columns: 1fr;
            }
            
            .custom-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ§‹ MAYI æ»¿æº¢èŒ¶é£²</h1>
            <p>å…¬å¸åœ˜è³¼è¨‚è³¼ç³»çµ± - ä¸€æ¬¡è¨‚è³¼ï¼Œè¼•é¬†æå®šï¼</p>
        </div>
        
        <div class="form-section">
            <!-- å®¢æˆ¶è³‡è¨Š -->
            <div class="customer-info">
                <h3 style="margin-bottom: 20px; color: #333;">ğŸ‘¤ è¨‚è³¼è€…è³‡è¨Š</h3>
                <div class="form-row">
                    <div class="form-group">
                        <label for="customerName">è¨‚è³¼è€…å§“å/çµ„åˆ¥åç¨±</label>
                        <input type="text" id="customerName" placeholder="ä¾‹å¦‚ï¼šç‹å°æ˜ã€è²¡å‹™éƒ¨ã€ç ”ç™¼çµ„">
                    </div>
                    <div class="form-group">
                        <label for="customerContact">è¯çµ¡æ–¹å¼</label>
                        <input type="text" id="customerContact" placeholder="åˆ†æ©Ÿæˆ–æ‰‹æ©Ÿè™Ÿç¢¼">
                    </div>
                </div>
                <div class="form-group">
                    <label for="customerNotes">å‚™è¨»</label>
                    <textarea id="customerNotes" rows="3" placeholder="ç‰¹æ®Šéœ€æ±‚æˆ–å‚™è¨»äº‹é …"></textarea>
                </div>
            </div>
            
            <!-- å®¢è£½åŒ–é¸é … -->
            <div class="customization-section">
                <div class="customization-title">ğŸ›ï¸ çµ±ä¸€å®¢è£½åŒ–é¸é …ï¼ˆé©ç”¨æ–¼æ‰€æœ‰é£²æ–™ï¼‰</div>
                <div class="custom-grid">
                    <div class="form-group">
                        <label for="iceLevel">â„ï¸ å†°å¡Šç¨‹åº¦</label>
                        <select id="iceLevel">
                            <option value="æ­£å¸¸å†°">æ­£å¸¸å†°</option>
                            <option value="å°‘å†°">å°‘å†°</option>
                            <option value="å¾®å†°">å¾®å†°</option>
                            <option value="å»å†°">å»å†°</option>
                            <option value="ç†±é£²">ç†±é£²</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="sugarLevel">ğŸ¯ ç³–åˆ†ç¨‹åº¦</label>
                        <select id="sugarLevel">
                            <option value="æ­£å¸¸ç³–">æ­£å¸¸ç³–</option>
                            <option value="å°‘ç³–">å°‘ç³–</option>
                            <option value="åŠç³–">åŠç³–</option>
                            <option value="å¾®ç³–">å¾®ç³–</option>
                            <option value="ç„¡ç³–">ç„¡ç³–</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="milkLevel">ğŸ¥› å¥¶é‡ç¨‹åº¦</label>
                        <select id="milkLevel">
                            <option value="æ­£å¸¸å¥¶">æ­£å¸¸å¥¶</option>
                            <option value="å°‘å¥¶">å°‘å¥¶</option>
                            <option value="å¤šå¥¶">å¤šå¥¶</option>
                            <option value="æ¿ƒå¥¶">æ¿ƒå¥¶</option>
                            <option value="ç„¡å¥¶">ç„¡å¥¶</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <!-- å¥¶èŒ¶ç³»åˆ— -->
            <div class="menu-section">
                <div class="menu-title">ğŸ¥¤ å¥¶èŒ¶ç³»åˆ—</div>
                <div class="drink-grid" id="milkTeaMenu"></div>
            </div>
            
            <!-- ç‰¹èª¿ç³»åˆ— -->
            <div class="menu-section">
                <div class="menu-title">ğŸ¹ ç‰¹èª¿ç³»åˆ—</div>
                <div class="drink-grid" id="specialMenu"></div>
            </div>
            
            <!-- è¨‚å–®æ‘˜è¦ -->
            <div class="summary-section">
                <div class="summary-title">ğŸ“‹ è¨‚å–®æ‘˜è¦</div>
                <div class="order-list" id="orderList">
                    <div style="text-align: center; opacity: 0.7;">å°šæœªé¸æ“‡ä»»ä½•é£²æ–™</div>
                </div>
                <div class="total-price" id="totalPrice">ç¸½è¨ˆï¼š$0</div>
            </div>
            
            <button class="submit-btn" id="submitBtn" onclick="submitOrder()">
                ğŸš€ é€å‡ºåœ˜è³¼è¨‚å–®
            </button>
        </div>
    </div>
    
    <script>
        // èœå–®è³‡æ–™
        const milkTeaMenu = [
            {name: 'å¯å¯é¢¨å‘³å¥¶èŒ¶', sizes: [{size: 'M', price: 50}, {size: 'L', price: 60}]},
            {name: 'èŒ‰è‰å¥¶ç¶ ', sizes: [{size: 'M', price: 45}, {size: 'L', price: 50}]},
            {name: 'æ»¿æº¢çç å¥¶èŒ¶', sizes: [{size: 'M', price: 50}, {size: 'L', price: 55}]},
            {name: 'æ»¿æº¢çƒ¤é¦™å¥¶èŒ¶', sizes: [{size: 'M', price: 50}, {size: 'L', price: 55}]},
            {name: 'ç‚­ç‡’çƒé¾å¥¶èŒ¶', sizes: [{size: 'M', price: 50}, {size: 'L', price: 55}]},
            {name: 'å¸ƒä¸ä¼¯çˆµå¥¶èŒ¶', sizes: [{size: 'M', price: 50}, {size: 'L', price: 60}]},
            {name: 'å¯å¯ç’°æœå¥¶', sizes: [{size: 'M', price: 60}, {size: 'L', price: 65}]},
            {name: 'æ‰‹ç‚’é»‘ç³–éµè§€éŸ³å¥¶', sizes: [{size: 'M', price: 60}, {size: 'L', price: 75}]},
        ];
        
        const specialMenu = [
            {name: 'åš´é¸é›²å—æ˜†æ˜èŒ¶', sizes: [{size: 'å–®ä¸€å°ºå¯¸', price: 55}]},
            {name: 'èŒ‰è‰åŸèƒç¶ èŒ¶å¥¶éœœ', sizes: [{size: 'å–®ä¸€å°ºå¯¸', price: 55}]},
            {name: 'èœœæŸšé«˜éº—ç¶ èŒ¶å¥¶éœœ', sizes: [{size: 'å–®ä¸€å°ºå¯¸', price: 55}]},
            {name: 'ç‚­ç„™é«˜å±±çƒé¾å¥¶éœœ', sizes: [{size: 'å–®ä¸€å°ºå¯¸', price: 55}]},
            {name: 'ç•°æ¼¾å‡é£²', sizes: [{size: 'M', price: 70}, {size: 'L', price: 75}]},
            {name: 'è²´å¦ƒè”æç´…èŒ¶å‡é£²', sizes: [{size: 'M', price: 75}, {size: 'L', price: 80}]},
            {name: 'å†°é®è˜‹æœæ°£æ³¡é£²', sizes: [{size: 'å–®ä¸€å°ºå¯¸', price: 75}]},
            {name: 'å†°é®ç™¾é¦™æœæ°£æ³¡é£²', sizes: [{size: 'å–®ä¸€å°ºå¯¸', price: 75}]},
            {name: 'å†°é®ç¶œåˆè“æœæ°£æ³¡é£²', sizes: [{size: 'å–®ä¸€å°ºå¯¸', price: 80}]},
        ];
        
        let orderItems = {};
        
        // åˆå§‹åŒ–èœå–®
        function initializeMenu() {
            renderMenu('milkTeaMenu', milkTeaMenu);
            renderMenu('specialMenu', specialMenu);
        }
        
        function renderMenu(containerId, menuData) {
            const container = document.getElementById(containerId);
            container.innerHTML = '';
            
            menuData.forEach(drink => {
                drink.sizes.forEach(sizeInfo => {
                    const drinkId = `${drink.name}_${sizeInfo.size}`;
                    const drinkCard = document.createElement('div');
                    drinkCard.className = 'drink-card';
                    drinkCard.innerHTML = `
                        <div class="drink-name">${drink.name}</div>
                        <div class="drink-price">${sizeInfo.size} - $${sizeInfo.price}</div>
                        <div class="quantity-control">
                            <button class="quantity-btn" onclick="changeQuantity('${drinkId}', -1)">âˆ’</button>
                            <input type="number" class="quantity-input" id="qty_${drinkId}" value="0" min="0" max="50" onchange="updateQuantity('${drinkId}')">
                            <button class="quantity-btn" onclick="changeQuantity('${drinkId}', 1)">+</button>
                        </div>
                    `;
                    container.appendChild(drinkCard);
                    
                    // åˆå§‹åŒ–è¨‚å–®é …ç›®
                    orderItems[drinkId] = {
                        name: drink.name,
                        size: sizeInfo.size,
                        price: sizeInfo.price,
                        quantity: 0
                    };
                });
            });
        }
        
        function changeQuantity(drinkId, change) {
            const input = document.getElementById(`qty_${drinkId}`);
            let newQuantity = parseInt(input.value) + change;
            newQuantity = Math.max(0, Math.min(50, newQuantity));
            input.value = newQuantity;
            updateQuantity(drinkId);
        }
        
        function updateQuantity(drinkId) {
            const input = document.getElementById(`qty_${drinkId}`);
            const quantity = parseInt(input.value) || 0;
            orderItems[drinkId].quantity = quantity;
            updateOrderSummary();
        }
        
        function updateOrderSummary() {
            const orderList = document.getElementById('orderList');
            const totalPriceEl = document.getElementById('totalPrice');
            const submitBtn = document.getElementById('submitBtn');
            
            let orderHTML = '';
            let totalPrice = 0;
            let hasItems = false;
            
            Object.keys(orderItems).forEach(drinkId => {
                const item = orderItems[drinkId];
                if (item.quantity > 0) {
                    hasItems = true;
                    const itemTotal = item.price * item.quantity;
                    totalPrice += itemTotal;
                    orderHTML += `
                        <div class="order-item">
                            <span>${item.name} ${item.size} Ã— ${item.quantity}</span>
                            <span>$${itemTotal}</span>
                        </div>
                    `;
                }
            });
            
            if (!hasItems) {
                orderHTML = '<div style="text-align: center; opacity: 0.7;">å°šæœªé¸æ“‡ä»»ä½•é£²æ–™</div>';
                submitBtn.disabled = true;
            } else {
                submitBtn.disabled = false;
            }
            
            orderList.innerHTML = orderHTML;
            totalPriceEl.textContent = `ç¸½è¨ˆï¼š$${totalPrice}`;
        }
        
        async function submitOrder() {
            const customerName = document.getElementById('customerName').value.trim();
            const customerContact = document.getElementById('customerContact').value.trim();
            const customerNotes = document.getElementById('customerNotes').value.trim();
            const iceLevel = document.getElementById('iceLevel').value;
            const sugarLevel = document.getElementById('sugarLevel').value;
            const milkLevel = document.getElementById('milkLevel').value;
            
            if (!customerName || !customerContact) {
                alert('è«‹å¡«å¯«è¨‚è³¼è€…å§“åå’Œè¯çµ¡æ–¹å¼ï¼');
                return;
            }
            
            // æ•´ç†è¨‚å–®è³‡æ–™
            let orderSummary = '';
            let totalPrice = 0;
            let totalQuantity = 0;
            
            Object.keys(orderItems).forEach(drinkId => {
                const item = orderItems[drinkId];
                if (item.quantity > 0) {
                    const itemTotal = item.price * item.quantity;
                    totalPrice += itemTotal;
                    totalQuantity += item.quantity;
                    orderSummary += `${item.name} ${item.size} Ã— ${item.quantity} = $${itemTotal}\\n`;
                }
            });
            
            if (totalQuantity === 0) {
                alert('è«‹è‡³å°‘é¸æ“‡ä¸€ç¨®é£²æ–™ï¼');
                return;
            }
            
            // æº–å‚™æäº¤åˆ° Google è¡¨å–®
            const submitBtn = document.getElementById('submitBtn');
            submitBtn.disabled = true;
            submitBtn.textContent = 'ğŸš€ è¨‚å–®æäº¤ä¸­...';
            
            try {
                // Google è¡¨å–®çš„æäº¤ URL - éœ€è¦æ›´æ–°ç‚ºå¯¦éš›çš„è¡¨å–® ID
                const FORM_ID = 'YOUR_FORM_ID_HERE';
                const formUrl = `https://docs.google.com/forms/d/e/${FORM_ID}/formResponse`;
                
                // æº–å‚™è¡¨å–®è³‡æ–™ (éœ€è¦æ ¹æ“šå¯¦éš›è¡¨å–®æ¬„ä½ ID æ›´æ–°)
                const formData = new FormData();
                formData.append('entry.XXXXXXXX', customerName);        // è¨‚è³¼è€…
                formData.append('entry.YYYYYYYY', customerContact);     // è¯çµ¡æ–¹å¼
                formData.append('entry.ZZZZZZZZ', iceLevel);            // å†°å¡Šç¨‹åº¦
                formData.append('entry.AAAAAAAA', sugarLevel);          // ç³–åˆ†ç¨‹åº¦
                formData.append('entry.BBBBBBBB', milkLevel);           // å¥¶é‡ç¨‹åº¦
                formData.append('entry.CCCCCCCC', orderSummary);        // è¨‚è³¼æ¸…å–®
                formData.append('entry.DDDDDDDD', totalQuantity.toString()); // ç¸½æ•¸é‡
                formData.append('entry.EEEEEEEE', totalPrice.toString());    // ç¸½é‡‘é¡
                formData.append('entry.FFFFFFFF', customerNotes || 'ç„¡');     // å‚™è¨»
                
                // æäº¤è¡¨å–®
                await fetch(formUrl, {
                    method: 'POST',
                    body: formData,
                    mode: 'no-cors'
                });
                
                // é¡¯ç¤ºæˆåŠŸè¨Šæ¯
                alert(`âœ… è¨‚å–®é€å‡ºæˆåŠŸï¼\\n\\nğŸ‘¤ è¨‚è³¼è€…ï¼š${customerName}\\nğŸ”¢ ç¸½æ•¸é‡ï¼š${totalQuantity} æ¯\\nğŸ’° ç¸½é‡‘é¡ï¼š$${totalPrice}\\nğŸ›ï¸ å®¢è£½åŒ–ï¼š${iceLevel}ã€${sugarLevel}ã€${milkLevel}\\n\\nè«‹ç­‰å€™é€šçŸ¥å–è²¨ï¼`);
                
                // é‡ç½®è¡¨å–®
                resetForm();
                
            } catch (error) {
                console.error('æäº¤éŒ¯èª¤:', error);
                alert('âŒ è¨‚å–®æäº¤å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦æˆ–è¯çµ¡ç®¡ç†å“¡ã€‚');
            } finally {
                submitBtn.disabled = false;
                submitBtn.textContent = 'ğŸš€ é€å‡ºåœ˜è³¼è¨‚å–®';
            }
        }
        
        // é¡¯ç¤ºè¨‚å–®é è¦½ï¼ˆä¸æäº¤åˆ°è¡¨å–®çš„ç‰ˆæœ¬ï¼‰
        function previewOrder() {
            const customerName = document.getElementById('customerName').value.trim();
            const customerContact = document.getElementById('customerContact').value.trim();
            const customerNotes = document.getElementById('customerNotes').value.trim();
            const iceLevel = document.getElementById('iceLevel').value;
            const sugarLevel = document.getElementById('sugarLevel').value;
            const milkLevel = document.getElementById('milkLevel').value;
            
            if (!customerName || !customerContact) {
                alert('è«‹å¡«å¯«è¨‚è³¼è€…å§“åå’Œè¯çµ¡æ–¹å¼ï¼');
                return;
            }
            
            // æ•´ç†è¨‚å–®è³‡æ–™
            let orderSummary = '';
            let totalPrice = 0;
            let totalQuantity = 0;
            
            Object.keys(orderItems).forEach(drinkId => {
                const item = orderItems[drinkId];
                if (item.quantity > 0) {
                    const itemTotal = item.price * item.quantity;
                    totalPrice += itemTotal;
                    totalQuantity += item.quantity;
                    orderSummary += `${item.name} ${item.size} Ã— ${item.quantity} = $${itemTotal}\\n`;
                }
            });
            
            if (totalQuantity === 0) {
                alert('è«‹è‡³å°‘é¸æ“‡ä¸€ç¨®é£²æ–™ï¼');
                return;
            }
            
            // é¡¯ç¤ºè¨‚å–®é è¦½
            const preview = `ğŸ“‹ è¨‚å–®é è¦½\\n\\nğŸ‘¤ è¨‚è³¼è€…ï¼š${customerName}\\nğŸ“± è¯çµ¡æ–¹å¼ï¼š${customerContact}\\n\\nğŸ›’ è¨‚è³¼æ¸…å–®ï¼š\\n${orderSummary}\\nğŸ›ï¸ å®¢è£½åŒ–è¨­å®šï¼š\\nâ„ï¸ ${iceLevel} | ğŸ¯ ${sugarLevel} | ğŸ¥› ${milkLevel}\\n\\nğŸ”¢ ç¸½æ•¸é‡ï¼š${totalQuantity} æ¯\\nğŸ’° ç¸½é‡‘é¡ï¼š$${totalPrice}\\n\\nğŸ“ å‚™è¨»ï¼š${customerNotes || 'ç„¡'}\\n\\nç¢ºèªè¦é€å‡ºè¨‚å–®å—ï¼Ÿ`;
            
            if (confirm(preview)) {
                // é€™è£¡å¯ä»¥æ”¾çœŸæ­£çš„æäº¤é‚è¼¯
                alert('âœ… è¨‚å–®ç¢ºèªé€å‡ºï¼ï¼ˆé è¦½æ¨¡å¼ï¼‰');
                resetForm();
            }
        }
        
        function resetForm() {
            document.getElementById('customerName').value = '';
            document.getElementById('customerContact').value = '';
            document.getElementById('customerNotes').value = '';
            
            Object.keys(orderItems).forEach(drinkId => {
                document.getElementById(`qty_${drinkId}`).value = '0';
                orderItems[drinkId].quantity = 0;
            });
            
            updateOrderSummary();
        }
        
        // åˆå§‹åŒ–é é¢
        document.addEventListener('DOMContentLoaded', function() {
            initializeMenu();
            updateOrderSummary();
        });
    </script>
</body>
</html>